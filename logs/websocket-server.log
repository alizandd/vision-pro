[Server] Vision Pro WebSocket Server starting...
[Server] ========================================
[Server] Vision Pro Server Started
[Server] ========================================
[Server] WebSocket: ws://0.0.0.0:8080
[Server] Video API: http://0.0.0.0:8080/api/videos
[Server] Videos Folder: /Users/alizand/Herd/vision-pro/server/videos
[Server] Health Check: http://0.0.0.0:8080/health
[Server] Device List: http://0.0.0.0:8080/devices
[Server] ========================================
[Server] Available videos: 2
[Server]   1. BigBuckBunny.mp4
[Server]   2. VRCarRender001.mp4
[Server] ========================================
[Server] New connection from 192.168.88.250
[Server] Received message: {"type":"register","deviceId":"controller-69jnhruzg","deviceName":"Web Orchestrator","deviceType":"controller"}
[Server] Controller registered: Web Orchestrator
[Server] Video list requested: 2 videos found
[Server] New connection from 192.168.88.250
[Server] Received message: {"type":"register","deviceId":"controller-omliakblp","deviceName":"Web Orchestrator","deviceType":"controller"}
[Server] Controller registered: Web Orchestrator
[Server] Video list requested: 2 videos found
[Server] New connection from 127.0.0.1
[Server] Received message: {"deviceType":"visionpro","type":"register","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","deviceName":"Vision Pro"}
[Server] âœ… Vision Pro registered: Vision Pro (776ADE85-EDEA-4EE1-9D01-7ED54A7448F5)
[Server] Total Vision Pro devices: 1
[Server] Broadcasting to 2 controllers: {"type":"deviceConnected","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","deviceName":"Vision Pro"}
[Server] Received message: {"type":"command","action":"play","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"],"videoUrl":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","videoFormat":"sphere360sbs"}
[Server] Sent play command to Vision Pro
[Server] Received message: {"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","type":"status","deviceName":"Vision Pro","state":"stopped","currentTime":0,"currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","immersiveMode":true}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Received message: {"immersiveMode":true,"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","currentTime":0,"currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","state":"loading","deviceName":"Vision Pro","type":"status"}
[Server] Status update from Vision Pro: loading (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (0-1/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (0-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (65536-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (16030-65535/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (1130138-158008373/158008374)
[Server] Received message: {"state":"playing","deviceName":"Vision Pro","currentTime":0,"type":"status","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","immersiveMode":true,"currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4"}
[Server] Status update from Vision Pro: playing (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (0-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (0-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31981568-32047103/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31784960-31981567/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (32374784-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (655360-851967/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (917504-1114111/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31653888-31784959/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31522816-31784959/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31850496-31981567/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (32178176-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (32309248-158008373/158008374)
[Server] Received message: {"type":"command","action":"play","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"],"videoUrl":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","videoFormat":"sphere360ou"}
[Server] Sent play command to Vision Pro
[Server] Received message: {"type":"status","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","state":"stopped","currentTime":0,"currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","deviceName":"Vision Pro","immersiveMode":true}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Received message: {"type":"status","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","state":"loading","currentTime":0,"currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","deviceName":"Vision Pro","immersiveMode":true}
[Server] Status update from Vision Pro: loading (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (0-1/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (0-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (34668544-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (65536-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (16030-65535/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (1130138-158008373/158008374)
[Server] Received message: {"currentTime":0,"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","state":"playing","immersiveMode":true,"currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","type":"status","deviceName":"Vision Pro"}
[Server] Status update from Vision Pro: playing (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (0-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (655360-851967/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (917504-1114111/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31850496-158008373/158008374)
[Server] Received message: {"type":"command","action":"stop","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"]}
[Server] Sent stop command to Vision Pro
[Server] Received message: {"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","deviceName":"Vision Pro","state":"stopped","type":"status","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","currentTime":0,"immersiveMode":true}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Received message: {"type":"command","action":"play","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"],"videoUrl":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","videoFormat":"sphere360ou"}
[Server] Sent play command to Vision Pro
[Server] Received message: {"type":"status","currentTime":0,"state":"stopped","deviceName":"Vision Pro","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","immersiveMode":true}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Received message: {"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","state":"loading","type":"status","immersiveMode":true,"currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","deviceName":"Vision Pro","currentTime":0}
[Server] Status update from Vision Pro: loading (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (0-1/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (0-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (65536-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (16030-65535/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (1130138-158008373/158008374)
[Server] Received message: {"state":"playing","currentTime":0,"deviceName":"Vision Pro","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","type":"status","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","immersiveMode":true}
[Server] Status update from Vision Pro: playing (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (655360-851967/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (917504-1114111/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31850496-158008373/158008374)
[Server] Received message: {"type":"command","action":"stop","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"]}
[Server] Sent stop command to Vision Pro
[Server] Received message: {"immersiveMode":true,"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","deviceName":"Vision Pro","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","type":"status","currentTime":0,"state":"stopped"}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (31916032-158008373/158008374)
[Server] Received message: {"type":"command","action":"play","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"],"videoUrl":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","videoFormat":"hemisphere180"}
[Server] Sent play command to Vision Pro
[Server] Received message: {"currentTime":0,"type":"status","immersiveMode":true,"currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","state":"stopped","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","deviceName":"Vision Pro"}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Received message: {"currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","immersiveMode":true,"type":"status","currentTime":0,"state":"loading","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","deviceName":"Vision Pro"}
[Server] Status update from Vision Pro: loading (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (0-1/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (0-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (65536-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (16030-65535/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (1130138-158008373/158008374)
[Server] Received message: {"deviceName":"Vision Pro","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","type":"status","state":"playing","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","immersiveMode":true,"currentTime":0}
[Server] Status update from Vision Pro: playing (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (0-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (655360-851967/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (917504-1114111/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31850496-158008373/158008374)
[Server] Received message: {"type":"command","action":"stop","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"]}
[Server] Sent stop command to Vision Pro
[Server] Received message: {"currentTime":0,"deviceName":"Vision Pro","immersiveMode":true,"currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","type":"status","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","state":"stopped"}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (31916032-158008373/158008374)
[Server] Received message: {"type":"command","action":"play","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"],"videoUrl":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","videoFormat":"hemisphere180"}
[Server] Sent play command to Vision Pro
[Server] Received message: {"currentTime":0,"deviceName":"Vision Pro","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","immersiveMode":true,"state":"stopped","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","type":"status"}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Received message: {"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","immersiveMode":true,"type":"status","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","deviceName":"Vision Pro","state":"loading","currentTime":0}
[Server] Status update from Vision Pro: loading (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (0-1/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (0-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (65536-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (16030-65535/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (1130138-158008373/158008374)
[Server] Received message: {"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","currentTime":0,"type":"status","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","immersiveMode":true,"state":"playing","deviceName":"Vision Pro"}
[Server] Status update from Vision Pro: playing (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (655360-851967/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (917504-1114111/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31850496-158008373/158008374)
[Server] Received message: {"type":"command","action":"stop","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"]}
[Server] Sent stop command to Vision Pro
[Server] Received message: {"currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","immersiveMode":true,"state":"stopped","type":"status","deviceName":"Vision Pro","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","currentTime":0}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (31916032-158008373/158008374)
[Server] Received message: {"type":"command","action":"play","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"],"videoUrl":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","videoFormat":"sbs3d"}
[Server] Sent play command to Vision Pro
[Server] Received message: {"state":"stopped","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","deviceName":"Vision Pro","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","currentTime":0,"type":"status","immersiveMode":true}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Received message: {"type":"status","currentTime":0,"state":"loading","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","deviceName":"Vision Pro","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","immersiveMode":true}
[Server] Status update from Vision Pro: loading (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (0-1/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (0-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (65536-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (16030-65535/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (1130138-158008373/158008374)
[Server] Received message: {"currentTime":0,"deviceName":"Vision Pro","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","immersiveMode":true,"type":"status","state":"playing","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4"}
[Server] Status update from Vision Pro: playing (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (31457280-31522815/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31326208-31457279/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31260672-31326207/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31391744-31457279/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31850496-158008373/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31129600-31326207/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31391744-31457279/158008374)
[Server] Streaming video: BigBuckBunny.mp4 (31850496-158008373/158008374)
[Server] Received message: {"type":"command","action":"stop","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"]}
[Server] Sent stop command to Vision Pro
[Server] Received message: {"type":"status","deviceName":"Vision Pro","immersiveMode":true,"state":"stopped","currentVideo":"http://192.168.88.250:8080/videos/BigBuckBunny.mp4","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","currentTime":0}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Streaming video: BigBuckBunny.mp4 (31981568-158008373/158008374)
