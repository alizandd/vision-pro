[Server] Vision Pro WebSocket Server starting...
[Server] ========================================
[Server] Vision Pro Server Started
[Server] ========================================
[Server] WebSocket: ws://0.0.0.0:8080
[Server] Video API: http://0.0.0.0:8080/api/videos
[Server] Videos Folder: /Users/alizand/Herd/vision-pro/server/videos
[Server] Health Check: http://0.0.0.0:8080/health
[Server] Device List: http://0.0.0.0:8080/devices
[Server] ========================================
[Server] Available videos: 8
[Server]   1. BigBuckBunny.mp4
[Server]   2. VR Output.mp4
[Server]   3. VRCarRender001.mp4
[Server]   4. VRCarRender001_original.mp4
[Server]   5. output.mp4
[Server]   6. output_fixed.mp4
[Server]   7. stream8k_br200_sp0.mp4
[Server]   8. stream_br200_sp0.mp4
[Server] ========================================
[Server] New connection from 192.168.70.131
[Server] Received message: {"type":"register","deviceId":"controller-7js1sikln","deviceName":"Web Orchestrator","deviceType":"controller"}
[Server] Controller registered: Web Orchestrator
[Server] Video list requested: 8 videos found
[Server] New connection from 127.0.0.1
[Server] Received message: {"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","deviceName":"Vision Pro","deviceType":"visionpro","type":"register"}
[Server] âœ… Vision Pro registered: Vision Pro (776ADE85-EDEA-4EE1-9D01-7ED54A7448F5)
[Server] Total Vision Pro devices: 1
[Server] Broadcasting to 1 controllers: {"type":"deviceConnected","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","deviceName":"Vision Pro"}
[Server] Received message: {"videos":[{"filename":"BigBuckBunny.MP4","modified":284804946,"size":158008374,"id":"09C46422-3818-4752-88B8-B89766788296","url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/BigBuckBunny.MP4","extension":"mp4","name":"BigBuckBunny"},{"filename":"Output.mp4","modified":791805117.994064,"size":1545712090,"id":"6C889A9E-D160-4307-B621-938B63785A96","url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/Output.mp4","extension":"mp4","name":"Output"},{"filename":"output_fixed.mp4","modified":791591931.2680626,"size":101904873,"id":"C9E697E1-C237-42D2-9764-BFC68E136155","url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/output_fixed.mp4","extension":"mp4","name":"output fixed"},{"filename":"stream8k_br200_sp0.mp4","modified":791667804.148302,"size":114157185,"id":"7BEB8EFC-E361-4679-9E33-80A3C337D02A","url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/stream8k_br200_sp0.mp4","extension":"mp4","name":"stream8k br200 sp0"},{"filename":"VR Output.mp4","modified":791805142.653824,"size":4599509595,"id":"68C4A537-1688-42CF-85A2-64B8056FD11A","url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","extension":"mp4","name":"VR Output"}],"type":"localVideos","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"}
[Server] Received 5 local videos from Vision Pro
[Server]   1. BigBuckBunny (150.69 MB)
[Server]   2. Output (1.44 GB)
[Server]   3. output fixed (97.18 MB)
[Server]   4. stream8k br200 sp0 (108.87 MB)
[Server]   5. VR Output (4.28 GB)
[Server] Received message: {"type":"command","action":"play","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"],"videoUrl":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","videoFormat":"sphere360sbs"}
[Server] Sent play command to Vision Pro
[Server] Received message: {"type":"status","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","currentVideo":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","immersiveMode":true,"state":"stopped","currentTime":0,"deviceName":"Vision Pro"}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Received message: {"state":"loading","type":"status","currentTime":0,"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","immersiveMode":true,"currentVideo":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","deviceName":"Vision Pro"}
[Server] Status update from Vision Pro: loading (time: 0)
[Server] Received message: {"currentVideo":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","currentTime":0,"type":"status","state":"playing","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","immersiveMode":true,"deviceName":"Vision Pro"}
[Server] Status update from Vision Pro: playing (time: 0)
[Server] Received message: {"currentVideo":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","currentTime":0,"type":"status","state":"playing","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","immersiveMode":true,"deviceName":"Vision Pro"}
[Server] Status update from Vision Pro: playing (time: 0)
[Server] Received message: {"type":"command","action":"stop","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"]}
[Server] Sent stop command to Vision Pro
[Server] Received message: {"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","currentVideo":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","type":"status","state":"stopped","immersiveMode":true,"deviceName":"Vision Pro","currentTime":0}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Received message: {"videos":[{"name":"BigBuckBunny","id":"AA74DC45-A725-4C3B-AAF1-430F69158EF8","modified":284804946,"extension":"mp4","url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/BigBuckBunny.MP4","size":158008374,"filename":"BigBuckBunny.MP4"},{"name":"Output","id":"B662ABC9-4DDE-4B67-A5BB-FC57993B8B4F","modified":791805117.994064,"extension":"mp4","url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/Output.mp4","size":1545712090,"filename":"Output.mp4"},{"name":"output fixed","id":"6F80F720-3FFA-4D99-8681-7B4764341E15","modified":791591931.2680626,"extension":"mp4","url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/output_fixed.mp4","size":101904873,"filename":"output_fixed.mp4"},{"name":"stream8k br200 sp0","id":"46DF7DEF-B494-4BB8-935F-9359E0C2A472","modified":791667804.148302,"extension":"mp4","url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/stream8k_br200_sp0.mp4","size":114157185,"filename":"stream8k_br200_sp0.mp4"},{"name":"VR Output","id":"F0B8B066-0768-44E2-B4CF-13926A52F328","modified":791805142.653824,"extension":"mp4","url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","size":4599509595,"filename":"VR Output.mp4"}],"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","type":"localVideos"}
[Server] Received 5 local videos from Vision Pro
[Server]   1. BigBuckBunny (150.69 MB)
[Server]   2. Output (1.44 GB)
[Server]   3. output fixed (97.18 MB)
[Server]   4. stream8k br200 sp0 (108.87 MB)
[Server]   5. VR Output (4.28 GB)
[Server] Received message: {"videos":[{"size":158008374,"name":"BigBuckBunny","extension":"mp4","filename":"BigBuckBunny.MP4","id":"AA74DC45-A725-4C3B-AAF1-430F69158EF8","modified":284804946,"url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/BigBuckBunny.MP4"},{"size":1545712090,"name":"Output","extension":"mp4","filename":"Output.mp4","id":"B662ABC9-4DDE-4B67-A5BB-FC57993B8B4F","modified":791805117.994064,"url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/Output.mp4"},{"size":101904873,"name":"output fixed","extension":"mp4","filename":"output_fixed.mp4","id":"6F80F720-3FFA-4D99-8681-7B4764341E15","modified":791591931.2680626,"url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/output_fixed.mp4"},{"size":114157185,"name":"stream8k br200 sp0","extension":"mp4","filename":"stream8k_br200_sp0.mp4","id":"46DF7DEF-B494-4BB8-935F-9359E0C2A472","modified":791667804.148302,"url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/stream8k_br200_sp0.mp4"},{"size":4599509595,"name":"VR Output","extension":"mp4","filename":"VR Output.mp4","id":"F0B8B066-0768-44E2-B4CF-13926A52F328","modified":791805142.653824,"url":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4"}],"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","type":"localVideos"}
[Server] Received 5 local videos from Vision Pro
[Server]   1. BigBuckBunny (150.69 MB)
[Server]   2. Output (1.44 GB)
[Server]   3. output fixed (97.18 MB)
[Server]   4. stream8k br200 sp0 (108.87 MB)
[Server]   5. VR Output (4.28 GB)
[Server] Received message: {"type":"command","action":"play","targetDevices":["776ADE85-EDEA-4EE1-9D01-7ED54A7448F5"],"videoUrl":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","videoFormat":"sphere360sbs"}
[Server] Sent play command to Vision Pro
[Server] Received message: {"deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","type":"status","immersiveMode":true,"currentVideo":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","deviceName":"Vision Pro","currentTime":0,"state":"stopped"}
[Server] Status update from Vision Pro: stopped (time: 0)
[Server] Received message: {"immersiveMode":true,"type":"status","state":"loading","deviceName":"Vision Pro","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","currentTime":0,"currentVideo":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4"}
[Server] Status update from Vision Pro: loading (time: 0)
[Server] Received message: {"currentTime":0,"deviceName":"Vision Pro","state":"playing","type":"status","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","currentVideo":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","immersiveMode":true}
[Server] Status update from Vision Pro: playing (time: 0)
[Server] Received message: {"type":"status","deviceName":"Vision Pro","immersiveMode":true,"currentVideo":"file:///Users/alizand/Library/Developer/CoreSimulator/Devices/258F4903-3335-4BD3-AB9A-6F0666D98E10/data/Containers/Data/Application/7E913320-3AD5-45F2-9983-70AF6500F930/Documents/Videos/VR%20Output.mp4","state":"playing","deviceId":"776ADE85-EDEA-4EE1-9D01-7ED54A7448F5","currentTime":0}
[Server] Status update from Vision Pro: playing (time: 0)
[Server] Connection closed from 127.0.0.1
[Server] Vision Pro disconnected: Vision Pro
[Server] Connection closed from 192.168.70.131
[Server] Controller disconnected: Web Orchestrator
[Server] New connection from 192.168.70.131
[Server] Received message: {"type":"register","deviceId":"controller-7js1sikln","deviceName":"Web Orchestrator","deviceType":"controller"}
[Server] Controller registered: Web Orchestrator
[Server] Video list requested: 8 videos found
[Server] Connection closed from 192.168.70.131
[Server] Controller disconnected: Web Orchestrator
[Server] Received SIGTERM, shutting down...
[Server] Server closed
